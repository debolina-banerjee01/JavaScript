<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      Given an array of integers, return a new array such that each element at
      index i of the new array is the product of all the numbers in the original
      array except the one at i.
    </title>
  </head>
  <body>
    <script>
      function productExceptSelf(nums) {
        const n = nums.length;
        const result = new Array(n).fill(1);

        // Step 1: Multiply all elements to the left of index i
        let left = 1;
        for (let i = 0; i < n; i++) {
          result[i] = left;
          left *= nums[i];
        }

        // Step 2: Multiply all elements to the right of index i
        let right = 1;
        for (let i = n - 1; i >= 0; i--) {
          result[i] *= right;
          right *= nums[i];
        }

        return result;
      }

      // Example:
      console.log(productExceptSelf([1, 2, 3, 4, 5])); // [120, 60, 40, 30, 24]
      console.log(productExceptSelf([3, 2, 1])); // [2, 3, 6]
    </script>
  </body>
</html>
