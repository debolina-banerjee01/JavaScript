<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      You are given a histogram consisting of rectangles of different heights. These heights are represented in an input list, such that [1, 3, 2, 5] corresponds to the following diagram:

      x
      x  
  x   x
  x x x
x x x x
Determine the area of the largest rectangle that can be formed only from the bars of the histogram. For the diagram above, for example, this would be six, representing the 2 x 3 area at the bottom right.
    </title>
  </head>
  <body>
    <script>
      function largestRectangleArea(heights) {
        let stack = []; // stores indices of bars
        let maxArea = 0;
        let i = 0;

        while (i < heights.length) {
          // If current bar is higher than the bar at stack top, push it
          if (
            stack.length === 0 ||
            heights[i] >= heights[stack[stack.length - 1]]
          ) {
            stack.push(i++);
          } else {
            // Pop the top
            let top = stack.pop();
            // Calculate area with heights[top] as the smallest bar
            let width =
              stack.length === 0 ? i : i - stack[stack.length - 1] - 1;
            maxArea = Math.max(maxArea, heights[top] * width);
          }
        }

        // Handle remaining bars in stack
        while (stack.length > 0) {
          let top = stack.pop();
          let width = stack.length === 0 ? i : i - stack[stack.length - 1] - 1;
          maxArea = Math.max(maxArea, heights[top] * width);
        }

        return maxArea;
      }

      // Example:
      console.log(largestRectangleArea([1, 3, 2, 5])); // Output: 6
    </script>
  </body>
</html>
