<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      Given a list of integers, return the largest product that can be made by
      multiplying any three integers.
    </title>
  </head>
  <body>
    <script>
      function largestProductOfThree(nums) {
        if (nums.length < 3) {
          throw new Error("List must have at least three numbers.");
        }

        // Initialize the three largest and two smallest numbers
        let max1 = -Infinity,
          max2 = -Infinity,
          max3 = -Infinity;
        let min1 = Infinity,
          min2 = Infinity;

        for (let num of nums) {
          // Update the three largest numbers
          if (num > max1) {
            [max3, max2, max1] = [max2, max1, num];
          } else if (num > max2) {
            [max3, max2] = [max2, num];
          } else if (num > max3) {
            max3 = num;
          }

          // Update the two smallest numbers
          if (num < min1) {
            [min2, min1] = [min1, num];
          } else if (num < min2) {
            min2 = num;
          }
        }

        const product1 = max1 * max2 * max3;
        const product2 = min1 * min2 * max1;

        return Math.max(product1, product2);
      }

      // Example usage:
      const arr = [-10, -10, 5, 2];
      console.log(largestProductOfThree(arr)); // Output: 500
    </script>
  </body>
</html>
